p8105\_hw2\_sg3891
================
Sandya Ganesh
2021-10-06

## Question 1

#### Read and clean the Mr. Trash Wheel sheet

``` r
trashwheel_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = 1, range = "A2:N534") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
    sports_balls = round(sports_balls, 0))
```

#### Read and clean the precipitation data for 2019 and 2018

``` r
p2019_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = 6, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(
    year = 2019)

p2018_df = 
  read_excel("data/Trash-Wheel-Collection-Totals-7-2020-2.xlsx", sheet = 7, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(
    year = 2018)

pcombined_df =
  bind_rows(p2019_df, p2018_df) %>%
  mutate(month = month.name[month])
```

#### Description of Data

The number of observations in the Mr. Trash Wheel sheet is 453
observations with 14 variables. Some key variables in this data set
include dumpster, year, weight\_tons. The dumpsters are numbered from 1
to 453. Additionally, this data is collected from 2014 to 2021. The
total weight of the trash in the data set is 1449.7 tons. The median
number of sports balls in a dumpster in 2019 is 9 balls.

The total number of observations in the precipitation data set is 24
observations with 3 variables. Some key variables in this data set
include dumpster, month, year. Average total rainfall in 2018 is
5.8608333 inches and 33.95 inches in 2019. The total precipitation is
2018 was 70.33 inches and the total precipitation in 2019 was 33.95
inches.

## Question 2

#### Read and clean the pols-month.csv file

``` r
pols_month_df = 
  read_csv("data/pols-month.csv") %>% 
  janitor::clean_names() %>%
  separate(mon,into = c("year","month","day"),sep = "-") %>%
  pivot_longer(
    c(prez_gop,prez_dem), names_prefix = "prez_", names_to = "president") %>% 
  filter(value > 0) %>%
  select(-day, -value) %>% 
  mutate(
    year = as.integer(year),
    month = as.integer(month), 
    month = month.name[month]) %>% 
  arrange(year, month)
```

#### Read and clean the snp.csv file

``` r
snp_df = 
  read_csv("data/snp.csv") %>% 
  janitor::clean_names() %>%
  separate(date,into = c("month","day","year"),sep = "/") %>%
  mutate(
    year = as.integer(year),
    year = ifelse(year > 21, 1900 + year, 2000 + year),
    month = as.integer(month), 
    month = month.name[month]) %>% 
  select(-day) %>% 
  select(year, month, close) %>% 
  arrange(year, month)
```

#### Read and clean the unemployment.csv file

``` r
unemp_df = 
  read_csv("data/unemployment.csv") %>% 
  janitor::clean_names() %>%
  pivot_longer(
    c(jan:dec),
    names_to = "month", 
    values_to = "unemployment") %>% 
  mutate(
    year = as.integer(year),
    month = recode(month, "jan" = "January", "feb" = "February", "mar" = "March", "apr" = "April", "may" = "May", "jun" = "June", "jul" = "July", "aug" = "August", "sept" = "September", "oct" = "October", "nov" = "November", "dec" = "December")) %>% 
  arrange(year, month)
```

#### Merge and describe data

``` r
p2_merge_df =  left_join(pols_month_df, snp_df, by = c("year", "month"))

p2_final_df = left_join(p2_merge_df, unemp_df, by = c("year", "month"))
```

The pols\_month\_df dataset contains 822 observations of 9 variables,
related to the number of national politicians who are democratic or
republican at any given time.

The snp\_df dataset contains 787 observations of 3 variables related to
Standard & Poor’s stock market index (S&P), often used as a
representative measure of stock market as a whole.

The merged dataset, called p2\_final\_df, contains 822 observations of
11 variables. The range of years is from 1947 to 2015. The names of key
variables include year, president, close, unemployment. From these key
variables, we are able to identify the year and president for each
observation. Additionally, the close variable indicates the closing
values of the S&P stock index on the associated month and year, and the
unemployment variable indicates the percentage of unemployment in the
given month and year.
